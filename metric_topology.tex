\section{The Metric Topology}

\begin{df}[Metric Topology]
  Let $d$ be a metric on $X$. The \emph{metric topology} on $X$ induced by
  $d$ is the topology generated by the basis consisting of the open balls.

  We prove this is a topology.
\end{df}

\begin{proof}
  \pf
  \step{<1>1}{Every point is in an open ball.}
  \begin{proof}
    \pf\ $x \in B(x, 1)$
  \end{proof}
  \step{<1>2}{If $B_1$, $B_2$ are open balls and $x \in B_1 \cap B_2$, then
  there
  exists an open ball $B_3$ such that $x \in B_3 \subseteq B_1 \cap B_2$.}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in B(y, \epsilon_1) \cap B(z, \epsilon_2)$}}
    \step{<2>2}{\pick\ $\delta_1$, $\delta_2$ such that $0 < \delta_1 <
    \epsilon_1$, $0 < \delta_2 < \epsilon_2$, $B(x, \delta_1) \subseteq
    B(y,
    \epsilon_1)$ and $B(x, \delta_2) \subseteq B(z, \epsilon_2)$.}
    \begin{proof}
      \pf\ Lemma \ref{lm:topology:metric:balls}.
    \end{proof}
    \step{<2>3}{\pflet{$\delta = \min(\delta_1, \delta_2)$}}
    \step{<2>4}{$x \in B(x, \delta) \subseteq B(y, \epsilon_1) \cap B(y,
    \epsilon_2)$}
  \end{proof}
  \qedstep
  \begin{proof}
    \pf\ Lemma \ref{lm:topology:basis:generate}.
  \end{proof}
\end{proof}

\begin{lm}
  \label{lm:topology:metric:open}
  A set $U$ is open in the metric topology induced by $d$ if and only if, for
  all $x \in U$, there exists $\epsilon > 0$ such that $B(x, \epsilon)
  \subseteq
  U$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{If $U$ is open then, for all $x \in U$, there exists $\epsilon
  > 0$
  such that $B(x, \epsilon) \subseteq U$.}
  \begin{proof}
    \step{<2>1}{\assume{$U$ is open.}}
    \step{<2>2}{\pflet{$x \in U$}}
    \step{<2>3}{\pick\ $B(y, \delta)$ such that $x \in B(y, \delta) \subseteq
    U$}
    \step{<2>4}{\pick\ $\epsilon$ such that $0 < \epsilon < \delta$ and $B(x,
    \epsilon) \subseteq B(y, \delta)$}
    \begin{proof}
      \pf\ Lemma \ref{lm:topology:metric:balls}.
    \end{proof}
    \step{<2>5}{$B(x, \epsilon) \subseteq U$}
    \begin{proof}
      \pf\ From \stepref{<2>3} and \stepref{<2>4}.
    \end{proof}
  \end{proof}
  \step{<1>2}{If, for all $x \in U$, there exists $\epsilon > 0$ such that
  $B(x,
  \epsilon) \subseteq U$, then $U$ is open.}
  \begin{proof}
    \pf\ Immediate from definition of metric topology.
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  Let $d$ and $d'$ be two metrics on the set $X$. Let $\mathcal{T}$ and
  $\mathcal{T}'$ be the topologies the induce, respectively. Then
  $\mathcal{T} \subseteq \mathcal{T}'$ if and only if, for all $x \in X$ and
  $\epsilon > 0$, there exists $\delta > 0$ such that $B_{d'}(x, \delta)
  \subseteq B_d(x, \epsilon)$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{If $\mathcal{T} \subseteq \mathcal{T}'$ then, for all $x \in X$
  and
  $\epsilon > 0$, there exists $\delta > 0$ such that $B_{d'}(x, \delta)
  \subseteq B_d(x, \epsilon)$.}
  \begin{proof}
    \step{<2>1}{\assume{$\mathcal{T} \subseteq \mathcal{T}'$}}
    \step{<2>2}{\pflet{$x \in X$ and $\epsilon > 0$}}
    \step{<2>3}{$B_d(x, \epsilon) \in \mathcal{T}'$}
    \begin{proof}
      \pf\ From \stepref{<2>1}.
    \end{proof}
    \step{<2>4}{There exists $\delta > 0$ such that $B_{d'}(x, \delta)
    \subseteq
    B_d(x, \epsilon)$}
    \begin{proof}
      \pf\ By Lemma \ref{lm:topology:metric:open}.
    \end{proof}
  \end{proof}
  \step{<1>2}{If, for all $x \in X$ and $\epsilon > 0$, there exists $\delta
  >
  0$
  such that $B_{d'}(x, \delta) \subseteq B_d(x, \epsilon)$, then
  $\mathcal{T}
  \subseteq \mathcal{T}'$}
  \begin{proof}
    \step{<2>1}{\assume{For all $x \in X$ and $\epsilon > 0$, there exists
    $\delta
    > 0$ such that $B_{d'}(x, \delta) \subseteq B_d(x, \epsilon)$.}}
    \step{<2>2}{\pflet{$U \in \mathcal{T}$} \prove{$U \in \mathcal{T}'$}}
    \step{<2>3}{\pflet{$x \in U$}}
    \step{<2>4}{\pick\ $\epsilon > 0$ be such that $B_d(x, \epsilon)
    \subseteq
    U$}
    \begin{proof}
      \pf\ By Lemma \ref{lm:topology:metric:open}.
    \end{proof}
    \step{<2>5}{\pick\ $\delta > 0$ such that $B_{d'}(x, \delta) \subseteq
    B_d(x,
    \epsilon)$}
    \begin{proof}
      \pf\ By \stepref{<2>1}.
    \end{proof}
    \step{<2>6}{$B_{d'}(x, \delta) \subseteq U$}
    \begin{proof}
      \pf\ By \stepref{<2>4} and \stepref{<2>5}.
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ By Lemma \ref{lm:topology:metric:open}.
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{df}[Metrizable]
  A topological space is \emph{metrizable} if and only if there exists a
  metric that induces its topology.
\end{df}

\begin{lm}
  Every discrete space is metrizable.
\end{lm}

\begin{proof}
  \pf\ The discrete topology is induced by the metric $d(x, y) = 1$ if $x
  \neq
  y$, 0 if $x = y$. \qed
\end{proof}

\begin{prop}
  The continuous image of a metrizable space is not necessarily metrizable.
\end{prop}

\begin{proof}
  \pf\ The identity map from the discrete two-point space to the indiscrete two-point space is continuous. \qed
\end{proof}

\begin{lm}
  $\mathbb{R}$ is metrizable.
\end{lm}

\begin{proof}
  \pf\ The standard topology is induced by the metric $d(x, y) = |x-y|$. \qed
\end{proof}

\begin{lm}
  \label{lm:topology:metric:subspace}
  Let $(X, d)$ be a metric space and $A \subseteq X$. Then $d \restriction_{A
  \times A}$ is a metric on $A$ that induces the subspace topology.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{$d \restriction_{A \times A}$ is a metric on $A$.}
  \begin{proof}
    \pf\ Each of the axioms for a metric follows immediately from the same
    axiom for $d$.
  \end{proof}
  \step{<1>2}{The topology induced by $d \restriction_{A \times A}$ is the
  product topology.}
  \begin{proof}
    \pf\ Both are the topology generated by the basis consisting of all
    the open balls $B_{d \restriction_{A \times A}}(a, \epsilon) = B_d(a,
    \epsilon)  \cap      A$.
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  \label{lm:topology:metric:Hausdorff}
  Every metric space is Hausdorff.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a metric space and $x, y \in X$ with $x \neq y$.}}
  \step{<1>2}{\pflet{$\epsilon = d(x, y)$}}
  \step{<1>3}{$B(x, \epsilon / 2)$ and $B(y, \epsilon / 2)$ are disjoint
  neighbourhoods of $x$ and $y$.}
  \qed
\end{proof}

\begin{thm}
  Every metric space is first countable.
\end{thm}

\begin{proof}
  \pf\ $\{ B(x, q) : q \in \mathbb{Q}^+ \}$ is a local basis at $x$. \qed
\end{proof}

\begin{cor}
  If $J$ is infinite then the space $\mathbb{R}^J$ is not metrizable.
\end{cor}

\begin{df}[Standard Bounded Metric]
  Let $d$ be a metric on $X$. The \emph{standard bounded metric}
  corresponding to $d$ is
  \[ \overline{d}(x, y) = \min(d(x, y), 1) \enspace . \]

  We prove this is a metric.
\end{df}

\begin{proof}
  \pf
  \step{<1>1}{$\overline{d}(x, y) \geq 0$}
  \begin{proof}
    \pf\ This holds because $d(x, y) \geq 0$ ($d$ is a metric) and $1 > 0$.
  \end{proof}
  \step{<1>2}{$\overline{d}(x, y) = 0$ iff $x = y$}
  \begin{proof}
    \pf\ Immediate from definition.
  \end{proof}
  \step{<1>3}{$\overline{d}(x, y) = \overline{d}(y, x)$}
  \begin{proof}
    \pf\ Immediate from definition.
  \end{proof}
  \step{<1>4}{$\overline{d}(x, z) \leq \overline{d}(x, y) + \overline{d}(y,
  z)$}
  \begin{proof}
    \step{<2>1}{\case{$d(x, y) \leq 1$, $d(y, z) \leq 1$}}
    \begin{proof}
      \pf
      \begin{align*}
        \overline{d}(x, z) & \leq d(x, z) \\
        & \leq d(x, y) + d(y, z) \\
        & = \overline{d}(x, y) + \overline{d}(y, z)
      \end{align*}
    \end{proof}
    \step{<2>2}{\case{$d(y, z) > 1$}}
    \begin{proof}
      \pf
      \begin{align*}
        \overline{d}(x, z) & \leq 1 \\
        & \leq \overline{d}(x, y) + 1 \\
        & = \overline{d}(x, y) + \overline{d}(y, z)
      \end{align*}
    \end{proof}
    \step{<2>3}{\case{$d(x, y) > 1$}}
    \begin{proof}
      \pf\ Similar.
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  Let $d$ be a metric on $X$. Then the standard bounded metric $\overline{d}$
  corresponding to $d$ induces the same topology as $d$.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$\mathcal{T}$ be the topology induced by $d$ and
  $\mathcal{T}'$ be the topology induced by $\overline{d}$.}}
  \step{<1>2}{$\mathcal{T} \subseteq \mathcal{T}'$}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in X$ and $\epsilon > 0$}}
    \step{<2>2}{\pflet{$\delta = \min(\epsilon, 1/2)$}}
    \step{<2>3}{$B_{\overline{d}}(x, \delta) \subseteq B_d(x, \epsilon)$}
    \begin{proof}
      \step{<3>1}{\pflet{$y \in B_{\overline{d}}(x, \delta)$}}
      \step{<3>2}{$\overline{d}(x, y) < \delta$}
      \step{<3>3}{$\overline{d}(x, y) < 1$}
      \begin{proof}
        \pf\ From \stepref{<2>2} and \stepref{<3>2}.
      \end{proof}
      \step{<3>4}{$\overline{d}(x, y) = d(x, y)$}
      \begin{proof}
        \pf\ From \stepref{<3>3} and the definition of $\overline{d}$.
      \end{proof}
      \step{<3>5}{$d(x, y) < \epsilon$}
      \begin{proof}
        \pf\ By \stepref{<2>2} and \stepref{<3>2} and \stepref{<3>4}.
      \end{proof}
    \end{proof}
  \end{proof}
  \step{<1>3}{$\mathcal{T}' \subseteq \mathcal{T}$}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in X$ and $\epsilon > 0$}}
    \step{<2>2}{$B_d(x, \epsilon) \subseteq B_{\overline{d}}(x, \epsilon)$}
    \begin{proof}
      \pf\ This holds because $\overline{d}(x, y) \leq d(x, y)$.
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{df}[Square Metric]
  The \emph{square metric} on $\mathbb{R}^n$ is defined by
  \[ \rho(\vec{x}, \vec{y}) = \max(|x_1 - y_1|, \ldots, |x_n - y_n|) \enspace
  . \]

  We prove this is a metric.
\end{df}

\begin{proof}
  \pf
  \step{<1>1}{$\rho(\vec{x}, \vec{y}) \geq 0$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>2}{$\rho(\vec{x}, \vec{y}) = 0$ iff $\vec{x} = \vec{y}$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>3}{$\rho(\vec{x}, \vec{y}) = \rho(\vec{y}, \vec{x})$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>4}{$\rho(\vec{x}, \vec{z}) \leq \rho(\vec{x}, \vec{y}) +
  \rho(\vec{y},
  \vec{z})$}
  \begin{proof}
    \step{<2>1}{For all $i$, we have $|x_i - z_i| \leq |x_i - y_i| + |y_i -
    z_i|$}
    \step{<2>2}{For all $i$, $|x_i - z_i| \leq \rho(\vec{x}, \vec{y}) +
    \rho(\vec{y}, \vec{z})$}
    \step{<2>3}{$\rho(\vec{x}, \vec{z}) \leq \rho(\vec{x}, \vec{y}) +
    \rho(\vec{y},
    \vec{z})$}
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  The square metric induces the standard topology on $\mathbb{R}^n$.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$\mathcal{T}_\rho$ be the topology induced by the square
  metric and $\mathcal{T}_s$ the standard topology.}}
  \step{<1>2}{$\mathcal{T}_\rho \subseteq \mathcal{T}_s$}
  \begin{proof}
    \pf\ This holds because $B_\rho(\vec{x}, \epsilon) = (x_1 - \epsilon, x_1
    + \epsilon) \times \cdots \times (x_n - \epsilon, x_n + \epsilon)$.
  \end{proof}
  \step{<1>3}{$\mathcal{T}_s \subseteq \mathcal{T}_\rho$}
  \begin{proof}
    \step{<2>1}{\pflet{$B = U_1 \times \cdots \times U_n$ be a
    basic          open set in $\mathcal{T}_s$, where each $U_i$ is open
    in $\mathbb{R}$.}}
    \step{<2>2}{\pflet{$\vec{x} \in B$}}
    \step{<2>3}{For $1 \leq i \leq n$, \pick\ $\epsilon_i > 0$ such that
    $(x_i       -
    \epsilon_i, x_i + \epsilon_i) \subseteq U_i$}
    \step{<2>4}{\pflet{$\epsilon = \min(\epsilon_1, \ldots, \epsilon_n$)}}
    \step{<2>5}{$B_\rho(\vec{x}, \epsilon) \subseteq B$}
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  \label{lm:topology:metric:product}
  The product of a countable family of metrizable spaces is metrizable.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$\{ X_n \}_{n \in \mathbb{Z}^+}$ be a family of metric
  spaces with metrics bounded by 1, $X = \prod_{n=1}^\infty X_n$.}}
  \step{<1>2}{\pflet{$D : X \times X \rightarrow \mathbb{R}$ be given by
  \[ D(\vec{x}, \vec{y}) = \sup_{n \geq 1} \frac{d(x_n, y_n)}{n} \enspace
  . \]}}
  \step{<1>3}{$D$ is a metric on $X$.}
  \begin{proof}
    \step{<2>1}{$D(\vec{x}, \vec{y}) \geq 0$}
    \begin{proof}
      \pf\ Immediate from definitions.
    \end{proof}
    \step{<2>2}{$D(\vec{x}, \vec{y}) = 0$ iff $\vec{x} = \vec{y}$}
    \begin{proof}
      \pf\ Immediate from definitions.
    \end{proof}
    \step{<2>3}{$D(\vec{x}, \vec{y}) = D(\vec{y}, \vec{x})$}
    \begin{proof}
      \pf\ Immediate from definitions.
    \end{proof}
    \step{<2>4}{$D(\vec{x}, \vec{z}) \leq D(\vec{x}, \vec{y}) + D(\vec{y},
    \vec{z})$}
    \begin{proof}
      \step{<3>1}{For all $n$, we have $\frac{d(x_n, z_n)}{n} \leq
      \frac{d(x_n,
      y_n)}{n} + \frac{d(y_n, z_n)}{n}$}
      \step{<3>2}{For all $n$, we have $\frac{d(x_n, z_n)}{n} \leq D(\vec{x},
      \vec{y}) + D(\vec{y}, \vec{z})$}
      \step{<3>3}{$D(\vec{x}, \vec{z}) \leq D(\vec{x}, \vec{y}) + D(\vec{y},
      \vec{z})$}
    \end{proof}
  \end{proof}
  \step{<1>4}{\pflet{$\mathcal{T}_D$ be the topology induced by $D$ and
  $\mathcal{T}_p$ the product topology.}}
  \step{<1>5}{$\mathcal{T}_D \subseteq \mathcal{T}_p$}
  \begin{proof}
    \step{<2>1}{\pflet{$U \in \mathcal{T}_D$} \prove{$U \in \mathcal{T}_p$}}
    \step{<2>2}{\pflet{$\vec{x} \in U$}}
    \step{<2>3}{\pick\ $\epsilon > 0$ such that $B_D(\vec{x}, \epsilon)
    \subseteq
    U$}
    \step{<2>4}{\pick\ $N$ such that $1 / N < \epsilon$}
    \step{<2>5}{\pflet{$V = B(x_1, \epsilon) \times \cdots \times B(x_N,
    \epsilon) \times X_{N+1} \times X_{N+2} \times \cdots$}}
    \step{<2>6}{$\vec{x} \in V \subseteq B_D(\vec{x}, \epsilon)$}
  \end{proof}
  \step{<1>6}{$\mathcal{T}_p \subseteq \mathcal{T}_D$}
  \begin{proof}
    \step{<2>1}{\pflet{$U = \prod_{n=1}^\infty U_n$ be a basic open set in
    $\mathcal{T}_p$, where each $U_n$ is open in $X_n$, and $U_n = X_n$
    for $n > N$.}}
    \step{<2>2}{\pflet{$\vec{x} \in U$} \prove{There exists $\epsilon > 0$
    such
    that $B_D(\vec{x}, \epsilon) \subseteq U$.}}
    \step{<2>3}{For $n \leq N$, \pick\ $\epsilon_n > 0$ such that $B(x_n,
    \epsilon_n) \subseteq U_n$}
    \step{<2>4}{\pflet{$\epsilon = \min(\epsilon_1, \epsilon_2 / 2, \ldots,
    \epsilon_n / n)$}}
    \step{<2>5}{\pflet{$\vec{y} \in B_D(\vec{x}, \epsilon)$}}
    \step{<2>6}{For $n \leq N$, $y_n \in U_n$}
    \begin{proof}
      \step{<3>1}{$D(\vec{x}, \vec{y}) < \epsilon$}
      \step{<3>2}{$d(x_n, y_n) / n < \epsilon$}
      \step{<3>3}{$d(x_n, y_n) / n < \epsilon_n / n$}
      \qedstep
      \begin{proof}
        \pf\ By \stepref{<2>3}.
      \end{proof}
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ is metrizable.
\end{cor}

\begin{df}[Uniform Metric]
  Let $(X, d)$ be a metric space and $J$ be a set. The \emph{uniform metric} $\overline{\rho}$ on
  $X^J$ is defined by
  \[ \overline{\rho}(\vec{x}, \vec{y}) = \sup_{\alpha \in J}
  \overline{d}(x_\alpha, y_\alpha) \enspace . \]
  where $\overline{d}$ is the standard bounded metric
  \[ \overline{d}(x, y) = \min(d(x, y), 1) \enspace . \]
  The \emph{uniform topology} is the topology induced by the uniform metric.

  We prove this is a metric.
\end{df}

\begin{proof}
  \pf
  \step{<1>1}{$\overline{\rho}(\vec{x}, \vec{y}) \geq 0$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>2}{$\overline{\rho}(\vec{x}, \vec{y}) = 0$ iff $\vec{x} = \vec{y}$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>3}{$\overline{\rho}(\vec{x}, \vec{y}) = \overline{\rho}(\vec{y},
  \vec{x})$}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>4}{$\overline{\rho}(\vec{x}, \vec{z}) \leq
  \overline{\rho}(\vec{x},
  \vec{y}) + \overline{\rho}(\vec{y}, \vec{z})$}
  \begin{proof}
    \pf
    \step{<2>1}{For all $\alpha \in J$, $\overline{d}(x_\alpha, z_\alpha)
    \leq
    \overline{d}(x_\alpha, y_\alpha) + \overline{d}(y_\alpha, z_\alpha)$}
    \step{<2>2}{For all $\alpha \in J$, $\overline{d}(x_\alpha, z_\alpha)
    \leq
    \overline{\rho}(\vec{x}, \vec{y}) + \overline{\rho}(\vec{y}, \vec{z})$}
    \step{<2>3}{$\overline{\rho}(\vec{x}, \vec{z}) \leq
    \overline{\rho}(\vec{x},
    \vec{y}) + \overline{\rho}(\vec{y}, \vec{z})$}
  \end{proof}
  \qed
\end{proof}

\begin{thm}[DC]
  \label{thm:topology:product:compare}
  The uniform topology on $\mathbb{R}^J$ is finer than the product topology
  and coarser than the box topology. These three topologies are different iff
  $J$
  is infinite.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{The uniform topology is finer than the product topology.}
  \begin{proof}
    \step{<2>1}{\pflet{$B = \prod_{\alpha \in J} U_\alpha$ be a basic open
    set
    in           the product topology, where each $U_\alpha$ is open in
    $\mathbb{R}$,           and $U_\alpha = \mathbb{R}$ except for
    $\alpha         =
    \alpha_1, \ldots,           \alpha_n$.}}
    \step{<2>2}{\pflet{$\vec{x} \in U$}}
    \step{<2>3}{For $1 \leq i \leq n$, \pick\ $0 < \epsilon_i < 1$ such that
    $(x_{\alpha_i} - \epsilon_i, x_{\alpha_i} + \epsilon_i) \subseteq
    U_{\alpha_i}$.}
    \step{<2>4}{\pflet{$\epsilon = \min(\epsilon_1, \ldots, \epsilon_n)$}}
    \step{<2>5}{$B_{\overline{\rho}}(\vec{x}, \epsilon) \subseteq B$}
    \begin{proof}
      \step{<3>1}{\pflet{$\vec{y} \in B_{\overline{\rho}}(\vec{x},
      \epsilon)$}}
      \step{<3>2}{For $1 \leq i \leq n$, we have $y_i \in U_{\alpha_i}$}
      \begin{proof}
        \step{<4>1}{\pflet{$1 \leq i \leq n$}}
        \step{<4>2}{$\overline{d}(x_{\alpha_i}, y_{\alpha_i}) < \epsilon_i$}
        \begin{proof}
          \pf\ From \stepref{<2>4} and \stepref{<3>1}.
        \end{proof}
        \step{<4>3}{$d(x_{\alpha_i}, y_{\alpha_i}) < \epsilon_i$}
        \begin{proof}
          \pf\ From \stepref{<4>2} since $\epsilon_i < 1$ (\stepref{<2>3}).
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ By \stepref{<2>3}.
        \end{proof}
      \end{proof}
    \end{proof}
  \end{proof}
  \step{<1>2}{The uniform topology is coarser than the box topology.}
  \begin{proof}
    \step{<2>1}{\pflet{$\vec{x} \in \mathbb{R}^J$ and $\epsilon > 0$}
    \prove{$B_{\overline{\rho}}(\vec{x}, \epsilon)$ is open in the box
    topology.}}
    \step{<2>2}{\case{$\epsilon < 1$}}
    \begin{proof}
      \pf\ In this case, $B(\vec{x}, \epsilon) = \prod_{\alpha \in J}
      (x_\alpha - \epsilon, x_\alpha + \epsilon)$.
    \end{proof}
    \step{<2>3}{\case{$\epsilon \geq 1$}}
    \begin{proof}
      \pf\ In this case, $B(\vec{x}, \epsilon) = \mathbb{R}^J$.
    \end{proof}
  \end{proof}
  \step{<1>3}{If $J$ is finite then the product topology is the same as the
  box
  topology.}
  \begin{proof}
    \pf\ Immediate from definitions.
  \end{proof}
  \step{<1>4}{If $J$ is infinite then the uniform topology is distinct from
  the product topology.}
  \begin{proof}
    \step{<2>1}{$B(\vec{0}, 1/2)$ is not open in the product topology.}
    \begin{proof}
      \step{<3>1}{$\vec{0} \in B(\vec{0}, 1/2)$}
      \step{<3>2}{\pflet{$\prod_{\alpha \in J} U_\alpha$ be any basic open
      set
      containing $\vec{0}$, where $U_\alpha$ is open in $\mathbb{R}$ for
      all $\alpha$, and $U_\alpha = \mathbb{R}$ except for $\alpha =
      \alpha_1, \ldots, \alpha_n$}}
      \step{<3>3}{\pick\ $\alpha_0 \in J$ such that $\alpha_0 \neq \alpha_1,
      \ldots,           \alpha_n$}
      \step{<3>4}{\pflet{$\vec{x}$ be such that $x_{\alpha_0} = 1$, and
      $x_\alpha = 0$ for $\alpha \neq \alpha_0$.}}
      \step{<3>5}{$\vec{x} \in \prod_{\alpha \in J} U_\alpha$}
      \step{<3>6}{$\vec{x} \notin B(\vec{0}, 1/2)$}
    \end{proof}
  \end{proof}
  \step{<1>5}{If $J$ is infinite then the uniform topology is distinct from
  the
  box topology.}
  \begin{proof}
    \step{<2>1}{\pick\ a countable sequence $\alpha_1$, $\alpha_2$, \ldots in
    $J$}
    \step{<2>2}{\pflet{$U = \prod_{\alpha \in J} U_\alpha$, where
    $U_{\alpha_n}
    = (-1/n, 1/n)$ for all $n$, and $U_\alpha = \mathbb{R}$ for all other
    $\alpha$.} \prove{$U$ is not open in the uniform topology.}}
    \step{<2>3}{$\vec{0} \in U$}
    \step{<2>4}{\pflet{$\epsilon > 0$} \prove{$B(\vec{0}, \epsilon)
    \nsubseteq
    U$}}
    \step{<2>5}{\pick\ $N$ such that $1/N < \epsilon$}
    \step{<2>6}{\pflet{$\vec{x}$ be such that $x_{\alpha_N} = 1/N$ and
    $x_\alpha
    = 0$ for all other $\alpha$}}
    \step{<2>7}{$\vec{x} \in B(\vec{0}, \epsilon)$}
    \step{<2>8}{$\vec{x} \notin U$}
  \end{proof}
  \qed
\end{proof}

\begin{prop}
  The space $\mathbb{R}^\omega$ under the uniform topology is not second
  countable.
\end{prop}

\begin{proof}
  \pf\ The set of all sequences of 0s and 1s is discrete but uncountable. \qed
\end{proof}

\begin{cor}
  Not every metric space is second countable.
\end{cor}

\begin{thm}
  \label{thm:topology:metric:continuous}
  Let $X$ and $Y$ be metric spaces. Let $f : X \rightarrow Y$ and $x \in X$.
  Then $f$ is continuous at $x$ if and only if, for every $\epsilon > 0$,
  there
  exists $\delta > 0$ such that, for all $x' \in X$, if $d(x, x') < \delta$
  then
  $d(f(x), f(x')) < \epsilon$.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{If $f$ is continuous at $x$ then, for every $\epsilon > 0$,
  there
  exists $\delta > 0$ such that, for all $x' \in X$, if $d(x, x') < \delta$
  then $d(f(x), f(x')) < \epsilon$.}
  \begin{proof}
    \step{<2>1}{\assume{$f$ is continuous at $x$.}}
    \step{<2>2}{\pflet{$\epsilon > 0$}}
    \step{<2>3}{\pick\ a neighbourhood $U$ of $x$ such that $f(U) \subseteq
    B(f(x), \epsilon)$}
    \begin{proof}
      \pf\ One exists by \stepref{<2>1}, since $B(f(x), \epsilon)$ is a
      neighbourhood of $f(x)$.
    \end{proof}
    \step{<2>4}{\pick\ $\delta > 0$ such that $B(x, \delta) \subseteq U$}
    \begin{proof}
      \pf\ By \stepref{<2>3} and Lemma \ref{lm:topology:metric:open}.
    \end{proof}
    \step{<2>5}{\pflet{$x' \in X$ with $d(x, x') < \delta$}}
    \step{<2>6}{$x' \in U$}
    \begin{proof}
      \pf\ From \stepref{<2>4} and \stepref{<2>5}.
    \end{proof}
    \step{<2>7}{$f(x') \in B(f(x), \epsilon)$}
    \begin{proof}
      \pf\ From \stepref{<2>3} and \stepref{<2>6}.
    \end{proof}
  \end{proof}
  \step{<1>2}{If, for all $\epsilon > 0$, there exists $\delta > 0$ such
  that,
  for all $x' \in X$, if $d(x, x') < \delta$ then $d(f(x), f(x')) <
  \epsilon$, then $f$ is continuous at $x$.}
  \begin{proof}
    \step{<2>1}{\assume{For all $\epsilon > 0$ there exists $\delta > 0$ such
    that, for all $x' \in X$, if $d(x, x') < \delta$ then $d(f(x), f(x'))
    <
    \epsilon$.}}
    \step{<2>2}{\pflet{$V$ be a neighbourhood of $f(x)$}}
    \step{<2>3}{\pick\ $\epsilon > 0$ such that $B(f(x), \epsilon) \subseteq
    V$} % TODO Extract lemma
    \begin{proof}
      \pf\ By Lemma \ref{lm:topology:metric:open}.
    \end{proof}
    \step{<2>4}{\pick\ $\delta > 0$ such that, for all $x' \in X$, if $d(x,
    x')
    <
    \delta$ then $d(f(x), f(x')) < \epsilon$.}
    \begin{proof}
      \pf\ By \stepref{<2>1} and \stepref{<2>3}.
    \end{proof}
    \step{<2>5}{$B(x, \delta)$ is a neighbourhood of $x$}
    \begin{proof}
      \pf\ By the definition of the metric topology.
    \end{proof}
    \step{<2>6}{$f(B(x, \delta)) \subseteq V$}
    \begin{proof}
      \step{<3>1}{\pflet{$x' \in B(x, \delta)$}}
      \step{<3>2}{$d(f(x), f(x')) < \epsilon$}
      \begin{proof}
        \pf\ From \stepref{<2>4}.
      \end{proof}
      \step{<3>3}{$x' \in V$}
      \begin{proof}
        \pf\ From \stepref{<2>3}.
      \end{proof}
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  \label{lm:topology:metric:continuous}
  Let $X$ be a metric space. Then the metric $d : X^2 \rightarrow \mathbb{R}$ is continuous.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{Give $X^2$ the square metric.}
  \step{<1>2}{\pflet{$x, y \in X$ and $\epsilon > 0$}}
  \step{<1>3}{\pflet{$\delta = \epsilon / 2$}}
  \step{<1>4}{\pflet{$x', y' \in X$ with $d((x,y),(x',y')) < \delta$}}
  \step{<1>5}{$|d(x,y) - d(x',y')| < \epsilon$}
  \begin{proof}
    \step{<2>1}{$d(x, y) < d(x', y') + \epsilon$}
    \begin{proof}
      \pf\
      \begin{align*}
        d(x,y) & \leq d(x,x') + d(x',y') + d(y,y') & (\text{Triangle inequality}) \\
        & < d(x',y') + 2 \delta & (\text{\stepref{<1>4}}) \\
        & = d(x',y') + \epsilon & (\text{\stepref{<1>3}})
      \end{align*}
    \end{proof}
    \step{<2>2}{$d(x', y') < d(x, y) + \epsilon$}
    \begin{proof}
      \pf\ Similar.
    \end{proof}
  \end{proof}
\end{proof}

\begin{lm}
  \label{lm:metric:metric:addition}
  Addition is a continuous function $\mathbb{R}^2 \rightarrow \mathbb{R}$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$(x, y) \in \mathbb{R}^2$ and $\epsilon > 0$}}
  \step{<1>2}{\pflet{$\delta = \epsilon / 2$}}
  \step{<1>3}{\pflet{$(x', y') \in \mathbb{R}^2$ be such that $\rho((x, y),
  (x',
  y')) < \delta$, where $\rho$ is the square metric}}
  \step{<1>4}{$|x - x'| < \delta$ and $|y - y'| < \delta$}
  \step{<1>5}{$|(x + y) - (x' + y')| < \epsilon$}
  \begin{proof}
    \pf
    \begin{align*}
      |(x + y) - (x' + y')| & \leq |x - x'| + |y - y'| \\
      & < 2 \delta & (\text{\stepref{<1>4}}) \\
      & = \epsilon & (\text{\stepref{<1>2}})
    \end{align*}
  \end{proof}
  \qedstep
  \begin{proof}
    \pf\ By Theorem \ref{thm:topology:metric:continuous}.
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  Additive inverse is a continuous function $- : \mathbb{R} \rightarrow
  \mathbb{R}$.
\end{lm}

\begin{proof}
  \pf\ If $|x - y| < \epsilon$ then $|(-x)-(-y)| < \epsilon$. \qed
\end{proof}


\begin{lm}
  Multiplication is a continuous function $\cdot : \mathbb{R}^2 \rightarrow
  \mathbb{R}$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$(x,y) \in \mathbb{R}^2$ and $\epsilon > 0$}}
  \step{<1>2}{\pflet{$\delta = \min(1, \epsilon / (|x| + |y| + 1)$}}
  \step{<1>3}{\pflet{$(x', y') \in \mathbb{R}^2$ and $\rho((x, y), (x', y'))
  <
  \delta$}}
  \step{<1>4}{$|xy - x'y'| < \epsilon$}
  \begin{proof}
    \pf
    \begin{align*}
      |xy - x'y'| & = |x (y' - y) + y (x' - x) + (x - x') (y - y')| \\
      & \leq |x| |y'- y| + |y| |x' - x| + |x - x'| |y - y'| \\
      & < |x| \delta + |y| \delta + \delta^2 & (\text{\stepref{<1>3}}) \\
      & = \delta (|x| + |y| + \delta) \\
      & \leq \delta (|x| + |y| + 1) & (\text{\stepref{<1>2}}) \\
      & \leq \epsilon & (\text{\stepref{<1>2}})
    \end{align*}
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  Multiplicative inverse is a continuous function $(\ )^{-1} : \mathbb{R}
  \setminus \{ 0 \} \rightarrow \mathbb{R}$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$f : \mathbb{R} \setminus \{ 0 \} \rightarrow
  \mathbb{R}$
  be defined by $f(x) = x^{-1}$.}}
  \step{<1>2}{\pflet{$a, b \in \mathbb{R}$ with $a < b$} \prove{$f^{-1}((a,
  b))$
  is open}}
  \step{<1>3}{\case{$0 < a < b$}}
  \begin{proof}
    \pf\ $f^{-1}((a, b)) = (b^{-1}, a^{-1})$
  \end{proof}
  \step{<1>4}{\case{$a < 0 < b$}}
  \begin{proof}
    \pf\ $f^{-1}((a, b)) = (-\infty, a^{-1}) \cup (b^{-1}, + \infty)$
  \end{proof}
  \step{<1>5}{\case{$a < b < 0$}}
  \begin{proof}
    \pf\ $f^{-1}((a, b)) = (b^{-1}, a^{-1})$
  \end{proof}
  \qed
\end{proof}

\begin{df}[Uniform Convergence]
  Let $X$ be a set and $Y$ a metric space. Let $f_n : X \rightarrow Y$ for $n
  \geq 1$, and $f : X \rightarrow Y$. Then $f_n$ \emph{converges uniformly}
  to
  $f$ as $n \rightarrow \infty$ iff, for all $\epsilon > 0$, there exists $N$
  such that, for all $x \in X$ and $n \geq N$, $d(f_n(x), f(x)) < \epsilon$.
\end{df}

\begin{thm}[Uniform Limit Theorem]
  Let $X$ be a topological space and $Y$ a metric space. Let $f_n : X
  \rightarrow Y$ for $n \geq 1$ and $f : X \rightarrow Y$. If $f_n$ converges
  uniformly to $f$ and each $f_n$ is continuous, then $f$ is continuous.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$x \in X$ and $\epsilon > 0$}}
  \step{<1>2}{\pick\ $N$ such that, for all $x' \in X$ and $\delta > 0$,
  $d(f_n(x'), f(x')) < \epsilon / 3$}
  \step{<1>3}{\pick\ $\delta > 0$ such that, for all $x' \in X$, if $d(x, x')
  <
  \delta$ then $d(f_N(x), f_N(x')) < \epsilon / 3$}
  \step{<1>4}{For all $x' \in X$, if $d(x, x') < \delta$ then $d(f(x), f(x'))
  <
  \epsilon$}
  \begin{proof}
    \pf
    \begin{align*}
      d(f(x), f(x')) & \leq d(f(x), f_N(x)) + d(f_N(x), f_N(x')) + d(f_N(x'),
      f(x')) \\
      & < \epsilon / 3 + \epsilon / 3 + \epsilon / 3 \\
      & = \epsilon
    \end{align*}
  \end{proof}
  \qed
\end{proof}

\begin{lm}
  \label{lm:topology:metric:convergence:uniform}
  Let $X$ be a set and $Y$ a metric space. Let $f_n : X \rightarrow Y$ for $n \geq 1$ and
  $f : X \rightarrow Y$. Then $f_n$ converges uniformly to $f$ if
  and only if $f_n$ converges to $f$ in $Y^X$ under the uniform
  topology.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{If $f_n$ converges uniformly to $f$ then $f_n$ converges to $f$
  under the uniform topology.}
  \begin{proof}
    \step{<2>1}{\assume{$f_n$ converges uniformly to $f$}}
    \step{<2>2}{\pflet{$\epsilon > 0$}}
    \step{<2>3}{\pick\ $N$ such that, for all $x \in X$ and $n \geq N$,
    $d(f_n(x), f(x)) < \epsilon / 2$}
    \step{<2>4}{$\overline{\rho}(f_n, f) \leq \epsilon / 2$}
    \step{<2>5}{$\overline{\rho}(f_n, f) < \epsilon$}
  \end{proof}
  \step{<1>2}{If $f_n$ converges to $f$ under the uniform topology then $f_n$
  converges uniformly to $f$.}
  \begin{proof}
    \step{<2>1}{\assume{$f_n$ converges to $f$ under the uniform topology.}}
    \step{<2>2}{\pflet{$\epsilon > 0$}}
    \step{<2>3}{\pick\ $N$ such that, for all $n \geq N$,
    $\overline{\rho}(f_n,
    f) < \epsilon$}
    \step{<2>4}{For all $n \geq N$ and $x \in X$, $d(f_n(x), f(x)) <
    \epsilon$}
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  Every monotone increasing sequence of real numbers that is bounded above
  converges to its supremum.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$\{ s_n \}_{n \geq 1}$ be a monotone increasing sequence
  of
  real numbers bounded above with supremum $l$.}}
  \step{<1>2}{\pflet{$\epsilon > 0$}}
  \step{<1>3}{$l - \epsilon$ is not an upper bound for $\{ s_n : n \geq 1
  \}$.}
  \step{<1>4}{\pick\ $N$ such that $x_N > l - \epsilon$}
  \step{<1>5}{For all $n \geq N$, we hawe $l - \epsilon < x_n \leq l$}
  \step{<1>6}{For all $n \geq N$, we have $|x_n - l| < \epsilon$}
  \qed
\end{proof}

\begin{df}[Infinite Series]
  Let $\{ a_n \}_{n \geq 1}$ be a sequence of real numbers. The
  \emph{infinite series} $\sum_{n=1}^\infty a_n$ \emph{converges} to $s$ iff
  $\sum_{n=1}^N a_n \rightarrow s$ as $N \rightarrow \infty$.
\end{df}

\begin{prop}
  If $\sum_{n=1}^\infty a_n = s$ and $\sum_{n=1}^\infty b_n = t$ then
  $\sum_{n=1}^\infty (c a-n + b_n) = cs + t$.
\end{prop}

\begin{proof}
  \pf This holds because $\sum_{n=1}^N (c a_n + b_n) = c \sum_{n=1}^N a_n +
  \sum_{n=1}^N b_n \rightarrow cs + t$ as $N \rightarrow \infty$. \qed
\end{proof}

\begin{thm}[Comparison Test]
  If $|a_i| \leq b_i$ for all $i$ and $\sum_{i=1}^\infty b_i$ converges, then
  $\sum_{i=1}^\infty a_i$ converges.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{$\sum_{i=1}^\infty |a_i|$ converges}
  \begin{proof}
    \pf\ $\sum_{i=1}^N |a_i|$ is a monotone increasing sequence bounded above
    by $\sum_{i=1}^\infty b_i$.
  \end{proof}
  \step{<1>2}{\pflet{$c_i = |a_i| + a_i$}}
  \step{<1>3}{$\sum_{i=1}^\infty c_i$ converges}
  \begin{proof}
    \pf\ $\sum_{i=1}^N c_i$ is a monotone increasing sequence bounded above
    by
    $2 \sum_{i=1}^\infty |a_i|$.
  \end{proof}
  \qedstep
  \begin{proof}
    \pf\ Since $a_i = c_i - |a_i|$.
  \end{proof}
\end{proof}

\begin{lm}
  \label{lm:topology:metric:tail}
  If $\sum_{n=1}^\infty a_n$ converges then $\sum_{n=N}^\infty a_n
  \rightarrow 0$ as $N \rightarrow \infty$.
\end{lm}

\begin{proof}
  \pf
  \begin{align*}
    \sum_{n=N}^\infty a_n & = \sum_{n=1}^\infty a_n - \sum_{n=1}^{N-1} a_n \\
    & \rightarrow \sum_{n=1}^\infty a_n - \sum_{n=1}^\infty a_n \\
    & = 0
  \end{align*}
  as $N \rightarrow \infty$. \qed
\end{proof}

\begin{thm}[Weierstrass M-Test]
  Let $X$ be a set and $f_n : X \rightarrow \mathbb{R}$ for $n \geq 1$. If
  $|f_n(x)| \leq M_n$ for all $n \geq 1$ and all $x \in X$, and if
  $\sum_{n=1}^\infty M_n$ converges, then
  \[ \sum_{n=1}^N f_n(x) \rightarrow \sum_{n=1}^\infty f_n(x) \]
  uniformly in $x$ as $N \rightarrow \infty$.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{For $N \geq 1$, \pflet{$s_N : X \rightarrow \mathbb{R}$,
  $s_N(x)
  =
  \sum_{n=1}^N f_n(x)$}}
  \step{<1>2}{For all $x \in X$, $\sum_{n=1}^\infty f_n(x)$ converges.}
  \begin{proof}
    \pf\ By the Comparison Test.
  \end{proof}
  \step{<1>3}{\pflet{$s : X \rightarrow \mathbb{R}$, $s(x) =
  \sum_{n=1}^\infty
  f_n(x)$.}}
  \step{<1>4}{For $N \geq 1$, \pflet{$r_N = \sum_{n = N+1}^\infty M_n$}}
  \step{<1>5}{For $1 \leq N < K$, we have $|s_K(x) - s_N(x)| \leq r_N$ for
  all
  $x
  \in X$}
  \begin{proof}
    \pf
    \begin{align*}
      |s_K(x) - s_N(x)| & = \left| \sum_{n = N+1}^K f_n(x) \right| \\
      & \leq \sum_{n=N+1}^K |f_n(x)| \\
      & \leq \sum_{n=N+1}^K M_n \\
      & \leq \sum_{n=N+1}^\infty M_n \\
      & = r_N
    \end{align*}
  \end{proof}
  \step{<1>6}{For $N \geq 1$ and $x \in X$ we have $|s(x) - s_N(x)| \leq r_N$}
  \begin{proof}
    \pf\ Let $K \rightarrow \infty$ in \stepref{<1>5}.
  \end{proof}
  \step{<1>7}{\pflet{$\epsilon > 0$}}
  \step{<1>8}{\pick\ $N$ such that, for all $N' \geq N$, we have $r_{N'} <
  \epsilon$}
  \begin{proof}
    \pf\ Such an $N$ exists by Lemma \ref{lm:topology:metric:tail}.
  \end{proof}
  \step{<1>9}{For all $N' \geq N$ and $x \in X$ we have $|s_{N'}(x) - s(x)| <
  \epsilon$}
  \qed
\end{proof}

\begin{df}
  Let $X$ be a metric space. Let $x \in X$ and $A \subseteq X$ be nonempty.
  The     \emph{distance} from $x$ to $A$ is
  \[ d(x, A) = \inf_{a \in A} d(x, a) \enspace . \]
\end{df}

\begin{lm}
  \label{lm:topology:metric:dist_continuous}
  Let $X$ be a metric space and $A \subseteq X$ be nonempty. Then the
  function
  $d(-, A) : X \rightarrow \mathbb{R}$ is continuous.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$x \in X$ and $\epsilon > 0$}}
  \step{<1>2}{\pflet{$y \in X$ with $d(x, y) < \epsilon$}}
  \step{<1>3}{$|d(x, A) - d(y, A)| < \epsilon$}
  \begin{proof}
    \pf
    \step{<2>1}{$d(x, A) - d(y, A) < \epsilon$}
    \begin{proof}
      \pf
      \begin{align*}
        d(x, A) & = \inf_{a \in A} d(x, a) \\
        & \leq \inf_{a \in A} (d(x, y) + d(y, a)) \\
        & = d(x, y) + \inf_{a \in A} d(y, a) \\
        & = d(x, y) + d(y, A) \\
        & < \epsilon + d(y, A)
      \end{align*}
    \end{proof}
    \step{<2>2}{$d(y, A) - d(x, A) < \epsilon$}
    \begin{proof}
      \pf\ Similar.
    \end{proof}
  \end{proof}
  \qedstep
  \begin{proof}
    \pf\ By Theorem \ref{thm:topology:metric:continuous}.
  \end{proof}
  \qed
\end{proof}

\begin{df}[Shrinking Map]
  Let $X$ be a metric space and $f : X \rightarrow X$. Then $f$ is a
  \emph{shrinking map} iff, for all $x, y \in X$ with $x \neq y$, we have
  $d(f(x), f(y)) < d(x, y)$.
\end{df}

\begin{df}[Contraction]
  Let $X$ be a metric space and $f : X \rightarrow X$. Then $f$ is a
  \emph{contraction} iff there exists $\alpha < 1$ such that, for all $x, y
  \in X$,
  \[ d(f(x), f(y)) \leq \alpha d(x, y) \enspace . \]
\end{df}

\begin{prop}
  Every separable metric space is second countable.
\end{prop}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a separable metric space.}}
  \step{<1>2}{\pick\ a countable dense set $D$}
  \step{<1>3}{\pflet{$\mathcal{B} = \{ B(d, q) : d \in D, q \in \mathbb{Q}^+
  \}$}}
  \step{<1>4}{$\mathcal{B}$ is a countable basis for $X$}
  \qed
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the uniform topology is not separable.
\end{cor}

\begin{cor}
  Not every metric space is separable.
\end{cor}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the box topology is not separable.
\end{cor}
\begin{prop}[CC]
  \label{prop:topology:metric:Lindelof_second_countable}
  Every Lindel\"{o}f metric space is second countable.
\end{prop}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a Lindel\"{o}f metric space.}}
  \step{<1>2}{For all $n \in \mathbb{Z}^+$, \pick\ a countable covering
  $\mathcal{A}_n$ of      $X$ by $1/n$-balls}
  \begin{proof}
    \pf\ One exists by the Lindel\"{o}f condition, since the set of all
    $1/n$-balls covers $X$.
  \end{proof}
  \step{<1>3}{$\bigcup_{n=1}^\infty \mathcal{A}_n$ is a countable basis.}
  \qed
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the uniform topology is not
  Lindel\"{o}f.
\end{cor}

\begin{cor}
  Not every metric space is Lindel\"{o}f.
\end{cor}

\begin{prop}
  The space $\mathbb{R}_l$ is not metrizable.
\end{prop}

\begin{proof}
  \pf\ It is Lindel\"{o}f but not second countable. \qed
\end{proof}

\begin{prop}
  The ordered square is not metrizable.
\end{prop}

\begin{proof}
  \pf\ It is compact but not second countable. \qed
\end{proof}

\begin{prop}
  The space $\mathbb{R}^\omega$ under the uniform topology is not second
  countable.
\end{prop}

\begin{proof}
  \pf\ It contains a subspace homeomorphic to $\mathbb{R}$. \qed
\end{proof}

\begin{thm}[AC]
  \label{thm:topology:metric:normal}
  Every metrizable space is normal.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a metric space.}}
  \step{<1>2}{\pflet{$A$ and $B$ be disjoint closed subspaces of $X$.}}
  \step{<1>3}{For $a \in A$, \pick\ $\epsilon_a > 0$ such that $B(a,
  \epsilon_a)$
  does not intersect $B$.}
  \step{<1>4}{For $b \in B$, \pick\ $\epsilon_b > 0$ such that $B(b,
  \epsilon_b)$
  does not intersect $A$.}
  \step{<1>5}{\pflet{$U = \bigcup_{a \in A} B(a, \epsilon_a / 2)$}}
  \step{<1>6}{\pflet{$V = \bigcup_{b \in B} B(b, \epsilon_b / 2)$}}
  \step{<1>7}{$U \cap V = \emptyset$}
  \begin{proof}
    \step{<2>1}{\pflet{$z \in U \cap V$}}
    \step{<2>2}{\pick\ $a \in A$ and $b \in B$ such that $z \in B(a, \epsilon_a
    /
    2)$ and $z \in B(b, \epsilon_b / 2)$}
    \step{<2>3}{\assume{w.l.o.g.~ $\epsilon_a \leq \epsilon_b$}}
    \step{<2>4}{$a \in B(b, \epsilon_b)$}
    \begin{proof}
      \pf
      \begin{align*}
        d(a, b) & \leq d(a, z) + d(b, z) & (\text{Triangle Inequality}) \\
        & < \epsilon_a / 2 + \epsilon_b / 2 & (\text{\stepref{<2>2}}) \\
        & \leq \epsilon_b & (\text{\stepref{<2>3}})
      \end{align*}
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ This contradicts \stepref{<1>4}.
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ is normal.
\end{cor}

\begin{cor}
  The space $\mathbb{R}_K$ is not metlizable.
\end{cor}

\begin{prop}
  Every metrizable space is completely normal.
\end{prop}

\begin{proof}
  \pf\ Every subspace is metrizable (Lemma
  \ref{lm:topology:metric:subspace}) hence normal (Theorem
  \ref{thm:topology:metric:normal}). \qed
\end{proof}

\begin{prop}
  Every metrizable space is perfectly normal.
\end{prop}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a metric space.}}
  \step{<1>2}{$X$ is normal.}
  \begin{proof}
    \pf\ Theorem \ref{thm:topology:metric:normal}
  \end{proof}
  \step{<1>3}{Every closed set is $G_\delta$.}
  \begin{proof}
    \pf\ If $A$ is closed then $A = \bigcap_{q \in \mathbb{Q}^+} \{ x \in X :
    d(A, x) < q \}$.
  \end{proof}
  \qed
\end{proof}

\begin{thm}[Urysohn Metrization Theorem (CC)]
  Every second countable regular space is metrizable.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a second countable regular space.}}
  \step{<1>2}{$X$ is normal.}
  \step{<1>3}{\pick\ a countable basis $\mathcal{B} = \{ B_n : n \in
  \mathbb{Z}^+
  \}$}
  \step{<1>4}{For every pair of integers $m$, $n$ with $\overline{B_m}
  \subseteq
  B_n$, \pick\ a continuous function $g_{mn} : X \rightarrow [0, 1]$ such
  that $g_{mn}(\overline{B_m}) = \{ 1\}$ and $g_{mn}(X \setminus B_n) = \{ 0
  \}$}
  \begin{proof}
    \pf\ By the Urysohn Lemma.
  \end{proof}
  \step{<1>5}{The set $\{ g_{mn} : \overline{U_m} \subseteq U_n \}$ separates
  points from     closed sets in $X$}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in X$ and $U$ be a neighbourhood of $x$}}
    \step{<2>2}{\pick\ $B_n \in \mathcal{B}$ such that $x \in B_n \subseteq U$}
    \step{<2>3}{\pick\ $V$ open such that $x \in V$ and $\overline{V} \subseteq
    B_n$}
    \step{<2>4}{\pick\ $B_m \in \mathcal{B}$ such that $x \in B_m \subseteq V$}
    \step{<2>5}{$g_{mn}(x) = 1$ and $g_{mn}$ vanishes outside $U$}
  \end{proof}
  \step{<1>6}{$X$ is imbeddable in $[0,1]^\omega$}
  \begin{proof}
    \pf\ By the Imbedding Theorem.
  \end{proof}
  \qedstep
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the box topology is not second countable.
\end{cor}

\begin{prop}
  Not every second countable Hausdorff space is metrizable.
\end{prop}

\begin{proof}
  \pf\ $\mathbb{R}_K$ is second countable and Hausdorff but not metrizable
  (because it is not regular). \qed
\end{proof}

\begin{prop}
  There exists a space that is completely normal, first countable,
  Lindel\"{o}f and separable but not metrizable.
\end{prop}

\begin{proof}
  \pf\ The space $\mathbb{R}_l$ is all of these. \qed
\end{proof}

\begin{prop}
  $\overline{S_\Omega}$ is not metrizable.
\end{prop}

\begin{proof}
  \pf\ It is compact but not sequentially compact. \qed
\end{proof}

\begin{prop}
  Every compact metric space is second countable.
\end{prop}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a compact etric space}}
  \step{<1>2}{For every $n \geq 1$, \pick\ a finite covering $\mathcal{A}_n$ of
  $X$ by     open balls of radius $1/n$}
  \begin{proof}
    \pf\ Such a covering exists because $\{ B_{1/n}(x) : x \in X\}$ covers $X$.
  \end{proof}
  \step{<1>3}{$\bigcup_{n=1}^\infty \mathcal{A}_n$ is a countable basis for $X$}
  \qed
\end{proof}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the uniform topology is not compact.
\end{cor}

\begin{cor}
  The space $\mathbb{R}^\omega$ under the uniform topology is not limit
  point compact.
\end{cor}

\begin{prop}
  The space $\mathbb{R}^\omega$ under the box topology is not locally compact.
\end{prop}

\begin{proof}
  \pf
  \step{<1>1}{\assume{$\mathbb{R}^\omega$ under the box topology is locally
  compact.}}
  \step{<1>2}{For every point $x$, there exists a basic open set $B = \prod_{i=0}^\infty U_i$ such that $x \in B$ and $\overline{B}$ is compact.}
  \step{<1>3}{The box topology on $\overline{B}$ is the same as the product topology on $\overline{B}$}
  \begin{proof}
    \pf\ By Corollary \ref{cor:topology:compact_hausdorff:finer_coarser}.
  \end{proof}
  \step{<1>4}{The box topology on $\overline{B}$ is strictly finer than the product topology.}
  \begin{proof}
    \pf By Theorem \ref{thm:topology:product:compare}.
  \end{proof}
  \qed
\end{proof}

\begin{prop}
  Not every metrizable space is connected.
\end{prop}

\begin{proof}
  \pf\ The discrete space with two points is metrizable but not connected. \qed
\end{proof}

\begin{cor}
  Not every metrizable space is path connected.
\end{cor}

\begin{prop}
  Not every metric space is limit point compact.
\end{prop}

\begin{proof}
  \pf\ The space $\mathbb{R}$ is not limit point compact. \qed
\end{proof}

\begin{prop}
  Not every metric space is locally compact.
\end{prop}

\begin{proof}
  The space $\mathbb{R}^\omega$ in the uniform topology is not locally compact.
\end{proof}

\begin{lm}[AC]
  \label{lm:topology:metric:locally_discrete_open_refinement}
  Let $X$ be a metrizable space. Then every open covering $\mathcal{A}$ of $X$ has a countably locally discrete open refinement $\mathcal{E}$ that covers $X$.
\end{lm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$X$ be a metric space.}}
  \step{<1>2}{\pick\ a well-ordering $<$ for $\mathcal{A}$.}
  \step{<1>3}{For $n \in \mathbb{Z}^+$ and $U \in \mathcal{A}$, \pflet{
  $$S_n(U) = \{ x \in X : B(x, 1/n) \subseteq U \}$$
  }}
  \step{<1>4}{For $n \in \mathbb{Z}^+$ and $U \in \mathcal{A}$, \pflet{
  $$T_n(U) = S_n(U) - \bigcup_{V < U} V$$
  }}
  \step{<1>5}{For $n \in \mathbb{Z}^+$ and $U \in \mathcal{A}$, \pflet{
  $$E_n(U) = \bigcup_{x \in T_n(U)} B(x, 1/3n)$$
  }}
  \step{<1>6}{For $n \in \mathbb{Z}^+$, \pflet{
  $$\mathcal{E}_n = \{ E_n(U) : U \in \mathcal{A} \} $$
  }}
  \step{<1>7}{\pflet{
  $$ \mathcal{E} = \bigcup_{n \in \mathbb{Z}^+} \mathcal{E}_n $$
  }}
  \step{<1>8}{$\mathcal{E}$ is countably locally discrete}
  \begin{proof}
    \step{<2>1}{For all $n$, $\mathcal{E}_n$ is locally discrete.}
    \begin{proof}
      \step{<3>1}{For all $x \in X$, we have $B(x, 1 / 6n)$ intersects at most one element of $\mathcal{E}_n$}
      \begin{proof}
        \step{<4>1}{\assume{for a contradiction $a \in B(x, 1/6n) \cap E_n(U)$ and $b \in B(x, 1/6n) \cap E_n(V)$}}
        \step{<4>2}{\pick\ $c \in T_n(U)$ such that $d(a,c) < 1/3n$ and $d \in T_n(V)$ such that $d(b,d) < 1/3n$}
        \step{<4>3}{\assume{w.l.o.g. $V < U$}}
        \step{<4>4}{$c \in V$}
        \begin{proof}
          \step{<5>1}{$d(c, d) < 1/n$}
          \begin{proof}
            \pf
            \begin{align*}
              d(c, d) & \leq d(c, a) + d(a, x) + d(x, b) + d(b, d) & (\text{Triangle Inequality}) \\
              & < 1/3n + 1/6n + 1/6n + 1/3n & (\text{\stepref{<4>1}, \stepref{<4>2}}) \\
              & = 1/n
            \end{align*}
          \end{proof}
          \step{<5>2}{$B(d, 1/n) \subseteq V$}
          \begin{proof}
            \step{<6>1}{$d \in S_n(V)$}
            \begin{proof}
              \pf\ From \stepref{<1>4} and \stepref{<4>2}.
            \end{proof}
            \qedstep
            \begin{proof}
              \pf\ From \stepref{<1>3}
            \end{proof}
          \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ This is a contradiction because $c \in T_n(U)$ (\stepref{<4>2}) so $c \notin V$ (\stepref{<1>4}, \stepref{<4>3}).
        \end{proof}
      \end{proof}
    \end{proof}
  \end{proof}
  \step{<1>9}{$\mathcal{E}$ is an open refinement of $\mathcal{A}$}
  \begin{proof}
    \step{<2>1}{$\mathcal{E}$ is a refinement of $\mathcal{A}$}
    \begin{proof}
      \step{<3>1}{For every $n$, we have $\mathcal{E}_n$ is a refinement of $\mathcal{A}$.}
      \begin{proof}
        \step{<4>1}{\pflet{$n$ be a positive integer}}
        \step{<4>2}{For every $U \in \mathcal{A}$ we have $E_n(U) \subseteq U$}
        \begin{proof}
          \step{<5>1}{\pflet{$U \in \mathcal{A}$ and $x \in E_n(U)$}}
          \step{<5>2}{\pick\ $y \in T_n(U)$ such that $x \in B(y, 1/3n)$}
          \begin{proof}
            \pf\ \stepref{<1>5}, \stepref{<5>1}.
          \end{proof}
          \step{<5>3}{$y \in S_n(U)$}
          \begin{proof}
            \pf\ \stepref{<1>4}, \stepref{<5>2}
          \end{proof}
          \step{<5>4}{$x \in U$}
          \begin{proof}
            \pf\ \stepref{<1>3}, \stepref{<5>2}, \stepref{<5>3}
          \end{proof}
        \end{proof}
      \end{proof}
    \end{proof}
    \step{<2>2}{Every member of $\mathcal{E}$ is open.}
    \begin{proof}
      \step{<3>1}{For all $n$, every member of $\mathcal{E}_n$ is open.}
      \begin{proof}
        \step{<4>1}{\pflet{$n$ be a positive integer}}
        \step{<4>2}{For all $U \in \mathcal{A}$, $E_n(U)$ is open.}
        \begin{proof}
          \pf\ By \stepref{<1>5}, $E_n(U)$ is a union of open balls.
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ By \stepref{<1>6}
        \end{proof}
      \end{proof}
      \qedstep
      \begin{proof}
        \pf\ By \stepref{<1>7}.
      \end{proof}
    \end{proof}
  \end{proof}
  \step{<1>10}{$\mathcal{E}$ covers $X$}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in X$}}
    \step{<2>2}{\pflet{$U$ be the least member of $\mathcal{A}$ such that $x \in U$}}
    \step{<2>3}{\pick\ $n$ such that $B(x, 1/n) \subseteq U$}
    \step{<2>4}{$x \in E_n(U) \in \mathcal{E}$}
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  \label{thm:topoology:metric:paracompact}
  Every metrizable space is paracompact.
\end{thm}

\begin{proof}
  \pf\ From Michael's Lemma and Lemma \ref{lm:topology:metric:locally_discrete_open_refinement}.
\end{proof}

\begin{thm}[Bing-Nagata-Smirnov Metrization Theorem (AC)]
  Let $X$ be a topological space. Then the following are equivalent.
  \begin{enumerate}
    \item $X$ is metrizable.
    \item $X$ is regular and has a countably locally finite basis.
    \item $X$ is regular and has a countably locally discrete basis.
  \end{enumerate}
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{Every regular space with a countably locally finite basis is metrizable.}
  \begin{proof}
    \step{<2>1}{\pflet{$X$ be a regular space with a countably locally finite basis $\mathcal{B}$.}}
    \step{<2>2}{$X$ is normal.}
    \begin{proof}
      \pf\ Lemma \ref{lm:topology:normal:regular_countably_locally_finite}, \stepref{<2>1}.
    \end{proof}
    \step{<2>3}{Every closed set in $X$ is $G_\delta$.}
    \begin{proof}
      \pf\ Lemma \ref{lm:topology:normal:regular_countably_locally_finite}, \stepref{<2>1}.
    \end{proof}
    \step{<2>4}{\pick\ locally finite sets $\mathcal{B}_n$ such that $\mathcal{B} = \bigcup_{n=0}^\infty \mathcal{B}_n$.}
    \begin{proof}
      \pf\ From \stepref{<2>1}.
    \end{proof}
    \step{<2>5}{For $n \in \mathbb{N}$ and $B \in \mathcal{B}_n$, \pick\ a continuous function $f_{nB} : X \rightarrow [0,1/n]$ such that $f_{nB}(x) > 0$ for $x \in B$ and $f_{nB}(x) = 0$ for $x \notin B$}
    \begin{proof}
      \step{<3>1}{\pflet{$n \in \mathbb{N}$ and $B \in \mathcal{B}_n$}}
      \step{<3>2}{$B$ is open.}
      \begin{proof}
        \step{<4>1}{$B \in \mathcal{B}$.}
        \begin{proof}
          \pf\ \stepref{<2>4}, \stepref{<3>1}
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ \stepref{<2>1}, \stepref{<4>1}
        \end{proof}
      \end{proof}
      \step{<3>3}{$X \setminus B$ is closed and $G_\delta$.}
      \begin{proof}
        \step{<4>1}{$X \setminus B$ is closed.}
        \begin{proof}
          \pf\ Proposition \ref{prop:topology:closed:open}, \stepref{<3>2}.
        \end{proof}
        \step{<4>2}{$X \setminus B$ is $G_\delta$.}
        \begin{proof}
          \pf\ \stepref{<2>3}, \stepref{<4>1}.
        \end{proof}
      \end{proof}
      \step{<3>4}{\pick\ $g : X \rightarrow [0,1]$ that vanishes precisely on $X \setminus B$.}
      \begin{proof}
        \pf\ Theorem \ref{thm:topology:normal:vanishes_precisely}, \stepref{<2>2},\stepref{<3>3}.
      \end{proof}
      \qedstep
      \begin{proof}
        \pf\ Let $f(x) = g(x) / n$.
      \end{proof}
    \end{proof}
    \step{<2>6}{$\{ f_{nB} \}_{n \in \mathbb{N}, B \in \mathcal{B}_n}$ separates points from closed sets in $X$.}
    \begin{proof}
      \step{<3>1}{\pflet{$x_0 \in X$ and $U$ be a neighbourhood of $x_0$}}
      \step{<3>2}{\pick\ $n \in \mathbb{N}$ and $B \in \mathcal{B}_n$ such that $x_0 \in B \subseteq U$}
      \begin{proof}
        \step{<4>1}{\pick\ $B \in \mathcal{B}$ such that $x_0 \in B \subseteq U$}
        \begin{proof}
          \pf\ \stepref{<2>1}, \stepref{<3>1}.
        \end{proof}
        \step{<4>2}{\pick\ $n \in \mathbb{N}$ such that $B \in \mathcal{B}_n$}
        \begin{proof}
          \pf\ \stepref{<2>4}, \stepref{<4>1}.
        \end{proof}
      \end{proof}
      \step{<3>3}{$f_{nB}(x_0) > 0$}
      \begin{proof}
        \pf\ \stepref{<2>5}, \stepref{<3>2}.
      \end{proof}
      \step{<3>4}{$f_{nB}$ vanishes outside $U$.}
      \begin{proof}
        \pf\ \stepref{<2>5}, \stepref{<3>2}.
      \end{proof}
    \end{proof}
    \step{<2>7}{\pflet{$J = \sum_{n \in \mathbb{N}} \mathcal{B}_n$}}
    \step{<2>8}{\pflet{$F : X \rightarrow [0,1]^J$ be the function $F(x)(n, B) = f_{nB}(x)$}}
    \step{<2>9}{$F$ is an imbedding relative to the product topology on $[0,1]^J$}
    \begin{proof}
      \pf\ By the Imbedding Theorem and \stepref{<2>6}.
    \end{proof}
    \step{<2>10}{$F$ is an imbedding relative to the uniform topology on $[0,1]^J$}
    \begin{proof}
      \step{<3>1}{$F$ is injective.}
      \begin{proof}
        \pf\ From \stepref{<2>9}
      \end{proof}
      \step{<3>2}{$F$ is an open map relative to the uniform topology.}
      \begin{proof}
        \pf\ From \stepref{<2>9} and Theorem \ref{thm:topology:product:compare}.
      \end{proof}
      \step{<3>3}{$F$ is continuous relative to the uniform topology.}
      \begin{proof}
        \step{<4>1}{\pflet{$x_0 \in X$}}
        \step{<4>2}{\pflet{$\epsilon > 0$}}
        \step{<4>3}{For all $n \in \mathbb{N}$, \pick\ a neighbourhood $V_n$ of $x_0$ such that, for all $B \in \mathcal{B}_n$, $f_{nB}$ varies by at most $\epsilon / 2$ on $V_n$.}
        \begin{proof}
          \step{<5>1}{\pflet\ $n \in \mathbb{N}$}
          \step{<5>2}{\pick\ a neighbourhood $U$ of $x_0$ that intersects only finitely many elements of $\mathcal{B}_n$, say $B_1$, \ldots, $B_k$}
          \begin{proof}
            \pf\ By \stepref{<2>4} and \stepref{<4>1}.
          \end{proof}
          \step{<5>3}{For $j = 1, \ldots, k$, \pick\ a neighbourhood $W_j$ of $x_0$ such that $f_{nB_j}$ varies by at most $\epsilon / 2$ on $W_j$}
          \begin{proof}
            \pf\ By \stepref{<2>5}.
          \end{proof}
          \step{<5>4}{\pflet{$V_n = U \cap W_1 \cap \cdots \cap W_k$}}
          \qedstep
          \begin{proof}
            \step{<6>1}{\pflet{$B \in \mathcal{B}_n$} \prove{$f_{nB}$ varies by at most $\epsilon / 2$ on $V_n$}}
            \step{<6>2}{\case{$B$ is one of $B_1$, \ldots, $B_j$}}
            \begin{proof}
              \pf\ From \stepref{<5>3} and \stepref{<5>4}
            \end{proof}
            \step{<6>3}{\case{$B$ is not one of $B_1$, \ldots, $B_j$}}
            \begin{proof}
              \step{<7>1}{$f_{nB}$ is zero on $U$}
              \begin{proof}
                \pf\ \stepref{<2>5}, \stepref{<5>2}
              \end{proof}
              \step{<7>2}{$f_{nB}$ is zero on $V_n$}
              \begin{proof}
                \pf\ \stepref{<5>4}, \stepref{<7>1}
              \end{proof}
            \end{proof}
          \end{proof}
        \end{proof}
        \step{<4>4}{\pick\ $N$ such that $1 / N \leq \epsilon / 2$}
        \begin{proof}
          \pf\ Using \stepref{<4>2}
        \end{proof}
        \step{<4>5}{\pflet{$W = V_0 \cap V_1 \cap \cdots \cap V_N$}}
        \step{<4>6}{For all $x \in W$, we have $\rho(F(x), F(x_0)) < \epsilon$}
        \begin{proof}
          \step{<5>1}{\pflet{$x \in W$}}
          \step{<5>2}{For $n \leq N$ and $B \in \mathcal{B}_n$ we have $|f_{nB}(x) - f_{nB}(x_0)| \leq \epsilon / 2$}
          \begin{proof}
            \pf\ \stepref{<4>3}, \stepref{<4>5}
          \end{proof}
          \step{<5>3}{For $n > N$ and $B \in \mathcal{B}_n$ we have $|f_{nB}(x) - f_{nB}(x_0)| \leq \epsilon / 2$}
          \begin{proof}
            \pf\ \stepref{<2>5}, \stepref{<4>4}
          \end{proof}
          \step{<5>4}{$\rho(F(x), F(x_0)) \leq \epsilon / 2$}
          \begin{proof}
            \pf\ \stepref{<2>8}, \stepref{<5>2}, \stepref{<5>3}
          \end{proof}
        \end{proof}
      \end{proof}
      \qedstep
    \end{proof}
  \end{proof}
  \step{<1>2}{Every metrizable space is regular.}
  \begin{proof}
    \pf\ Theorem \ref{thm:topology:metric:normal}.
  \end{proof}
  \step{<1>3}{Every metrizable space has a countably locally discrete basis.}
  \begin{proof}
    \step{<2>1}{\pflet{$X$ be a metric space.}}
    \step{<2>2}{For $n \in \mathbb{Z}^+$, \pflet{$\mathcal{A}_n$ be the set of all open balls of radius $1/n$.}}
    \step{<2>3}{For $n \in \mathbb{Z}^+$, \pick\ a locally finite open refinement $\mathcal{B}_n$ of $\mathcal{A}_n$ that covers $X$.}
    \begin{proof}
      \pf\ Theorem \ref{thm:topoology:metric:paracompact}.
    \end{proof}
    \step{<2>4}{\pflet{$\mathcal{B} = \bigcup_{n=1}^\infty \mathcal{B}_n$}}
    \step{<2>5}{$\mathcal{B}$ is countably locally finite.}
    \begin{proof}
      \pf\ \stepref{<2>3}, \stepref{<2>4}
    \end{proof}
    \step{<2>6}{$\mathcal{B}$ is a basis for $X$.}
    \begin{proof}
      \step{<3>1}{Every element of $\mathcal{B}$ is open.}
      \begin{proof}
        \pf\ \stepref{<2>3}, \stepref{<2>4}
      \end{proof}
      \step{<3>2}{For every open set $U$ and $x \in U$, there exists $B \in \mathcal{B}$ such that $x \in B \subseteq U$}
      \begin{proof}
        \step{<4>1}{\pflet{$U$ be an open set and $x \in U$.}}
        \step{<4>2}{\pick\ $n$ such that $B(x, 1/n) \subseteq U$}
        \begin{proof}
          \pf\ \stepref{<4>1}
        \end{proof}
        \step{<4>3}{\pick\ $B \in \mathcal{B}_n$ such that $x \in B \subseteq B(x, 1/n)$}
        \begin{proof}
          \step{<5>1}{$B(x, 1/n) \in \mathcal{A}_n$}
          \begin{proof}
            \pf\ \stepref{<2>2}, \stepref{<4>1}
          \end{proof}
          \qedstep
          \begin{proof}
            \pf\ \stepref{<2>3}, \stepref{<5>1}
          \end{proof}
        \end{proof}
        \step{<4>4}{$B \in \mathcal{B}$}
        \begin{proof}
          \pf\ \stepref{<2>4}, \stepref{<4>3}
        \end{proof}
      \end{proof}
      \qedstep
      \begin{proof}
        \pf\ Proposition \ref{prop:topology:basis:open}
      \end{proof}
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{thm}[AC]
  \label{thm:metric:paracompact_Hausdorff:partition_of_unity}
  Let $X$ be a paracompact Hausdorff space. Let $\{ U_\alpha \}_{\alpha \in J}$ be an open covering of $X$. Then there exists a partition of unity on $X$ dominated by $\{ U_\alpha \}_{\alpha \in J}$.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pick\ a locally finite open cover $\{ V_\alpha \}_{\alpha \in J}$ of $X$ such that $\overline{V_\alpha} \subseteq U_\alpha$ for all $\alpha$.}
  \begin{proof}
    \pf\ By the Shrinking Lemma.
  \end{proof}
  \step{<1>2}{\pick\ a locally finite open cover $\{ W_\alpha \}_{\alpha \in J}$ of $X$ such that $\overline{W_\alpha} \subseteq V_\alpha$ for all $\alpha$.}
  \begin{proof}
    \pf\ By the Shrinking Lemma and \stepref{<1>1}.
  \end{proof}
  \step{<1>3}{For $\alpha \in J$, \pick\ a continuous $\psi_\alpha : X \rightarrow [0,1]$ such that $\psi_\alpha(\overline{W_\alpha}) = \{1\}$ and $\psi_\alpha(X \setminus V_\alpha) = \{ 0 \}$.}
  \begin{proof}
    \step{<2>1}{\pflet{$\alpha \in J$}}
    \step{<2>2}{$X$ is normal.}
    \begin{proof}
      \pf\ Theorem \ref{thm:topology:paracompact:Hausdorff_normal}.
    \end{proof}
    \step{<2>3}{$\overline{W_\alpha}$ and $X \setminus V_\alpha$ are disjoint.}
    \begin{proof}
      \pf\ From \stepref{<1>2}.
    \end{proof}
    \step{<2>4}{$\overline{W_\alpha}$ is closed.}
    \begin{proof}
      \pf\ Proposition \ref{prop:topology:closure:closed}.
    \end{proof}
    \step{<2>5}{$X \setminus V_\alpha$ is closed.}
    \begin{proof}
      \pf\ Proposition \ref{prop:topology:closed:open}, \stepref{<1>1}.
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ By the Urysohn Lemma.
    \end{proof}
  \end{proof}
  \step{<1>4}{For all $\alpha \in J$ we have $\supp \psi_\alpha \subseteq \overline{V_\alpha}$}
  \begin{proof}
    \step{<2>1}{\pflet{$\alpha \in J$}}
    \step{<2>2}{$\inv{\phi}(\mathbb{R} \setminus \{0\}) \subseteq V_\alpha$}
    \begin{proof}
      \pf\ \stepref{<1>3}, \stepref{<2>1}
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ Proposition \ref{prop:topology:closure:monotone}.
    \end{proof}
  \end{proof}
  \step{<1>5}{$\{ \overline{V_\alpha} \}_{\alpha \in J}$ is locally finite.}
  \begin{proof}
    \pf\ Lemma \ref{lm:topology:closure:locally_finite}, \stepref{<1>1}.
  \end{proof}
  \step{<1>6}{$\{ \supp \psi_\alpha \}_{\alpha \in J}$ is locally finite.}
  \begin{proof}
    \pf\ Proposition \ref{prop:topology:locally_finite:subset}, \stepref{<1>4}, \stepref{<1>5}.
  \end{proof}
  \step{<1>7}{For $x \in X$, there exists $\alpha \in J$ such thot $\psi_\alpha(x) > 0$.}
  \begin{proof}
    \pf\ \stepref{<1>1}, \stepref{<1>3}.
  \end{proof}
  \step{<1>8}{\pflet{$\Psi : X \rightarrow \mathbb{R}$ with $\Psi(x) = \sum_{\alpha \in J} \psi_\alpha(x)$}}
  \begin{proof}
    \step{<2>1}{For all $x \in X$ there are only finitely many $\alpha$ such that $\psi_\alpha(x) \neq 0$.}
    \begin{proof}
      \step{<3>1}{\pflet{$x \in X$}}
      \step{<3>2}{\pick\ a neighbourhood $U$ of $x$ that intersects only finitely many $V_\alpha$, say $V_{\alpha_1}$, \ldots, $V_{\alpha_n}$}
      \begin{proof}
        \pf\ \stepref{<1>1}, \stepref{<3>1}
      \end{proof}
      \step{<3>3}{If $\psi_\alpha(x) \neq 0$ then $\alpha$ is one of $\alpha_1$, \ldots, $\alpha_n$.}
      \begin{proof}
        \step{<4>1}{\assume{$\psi_\alpha(x) \neq 0$}}
        \step{<4>2}{$x \in V_\alpha$}
        \begin{proof}
          \pf\ \stepref{<1>3}, \stepref{<4>1}
        \end{proof}
        \step{<4>3}{$U$ intersects $V_\alpha$}
        \begin{proof}
          \pf\ \stepref{<3>2}, \stepref{<4>2}
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ By \stepref{<3>2}
        \end{proof}
      \end{proof}
    \end{proof}
  \end{proof}
  \step{<1>9}{$\Psi$ is continuous.}
  \begin{proof}
    \step{<2>1}{For $x \in X$, \pick\ an open neighbourhood $W_x$ of $x$ that intersects $\supp \psi_\alpha$ for only finitely many $\alpha$.}
    \begin{proof}
      \pf\ \stepref{<1>6}
    \end{proof}
    \step{<2>2}{For all $x \in X$ we have $\Psi \restriction W_x$ is continuous.}
    \begin{proof}
      \step{<3>1}{\pflet{$x \in X$}}
      \step{<3>2}{$\alpha_1$, \ldots, $\alpha_n$ be the values of $\alpha$ such that $W_x$ intersects $\supp \psi_\alpha$}
      \begin{proof}
        \pf\ \stepref{<2>1}
      \end{proof}
      \step{<3>3}{For $y \in W_x$ we have $\Psi(y) = \sum_{i=1}^n \psi_{\alpha_i}(y)$}
      \begin{proof}
        \step{<4>1}{\pflet{$y \in W_x$}}
        \step{<4>2}{For $\alpha \neq \alpha_1, \ldots, \alpha_n$ we have $\psi_\alpha(y) = 0$}
        \begin{proof}
          \step{<5>1}{\pflet{$\alpha \in J \setminus \{ \alpha_1, \ldots, \alpha_n \}$}}
          \step{<5>2}{$y \notin \supp \psi_\alpha$}
          \begin{proof}
            \pf\ \stepref{<3>2}, \stepref{<4>1}, \stepref{<5>1}
          \end{proof}
          \step{<5>3}{$\psi_\alpha(y) = 0$}
          \begin{proof}
            \pf\ Proposition \ref{prop:topology:closure:A_sub_Abar}, \stepref{<5>2}
          \end{proof}
        \end{proof}
      \end{proof}
      \qedstep
      \begin{proof}
        \pf\ Theorem \ref{thm:topology:continuous:composite}, Lemma \ref{lm:metric:metric:addition}, \stepref{<1>3}.
      \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ Theorem \ref{thm:topology:continuous:local}.
    \end{proof}
  \end{proof}
  \step{<1>10}{$\Psi(x) > 0$ for all $x \in X$.}
  \begin{proof}
    \step{<2>1}{\pflet{$x \in X$}}
    \step{<2>2}{\pick\ $\alpha \in J$ such that $x \in W_\alpha$}
    \begin{proof}
      \pf\ \stepref{<1>2}, \stepref{<2>1}
    \end{proof}
    \step{<2>3}{$\psi_\alpha(x) = 1$}
    \begin{proof}
      \pf\ \stepref{<1>3}, \stepref{<2>2}
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ \stepref{<1>3}, \stepref{<1>8}, \stepref{<2>3}
    \end{proof}
  \end{proof}
  \step{<1>11}{For $\alpha \in J$, \pflet{$\phi_\alpha(x) = \psi_\alpha(x) / \Psi(x)$}}
  \begin{proof}
    \pf\ $\Psi(x) \neq 0$ by \stepref{<1>10}
  \end{proof}
  \step{<1>12}{$\{ \phi_\alpha \}_{\alpha \in J}$ is a partition of unity dominated by $\{ U_\alpha \}_{\alpha \in J}$.}
  \begin{proof}
    \step{<2>1}{For all $\alpha \in J$ we have $\supp \phi_\alpha = \supp \psi_\alpha$}
    \begin{proof}
      \step{<3>1}{\pflet{$\alpha \in J$}}
      \step{<3>2}{For all $x \in X$ we have $\phi_\alpha(x) = 0$ iff $\psi_\alpha(x) = 0$}
      \begin{proof}
        \pf\ From \stepref{<1>11}
      \end{proof}
    \end{proof}
    \step{<2>2}{For all $\alpha \in J$ we have $\supp \phi_\alpha \subseteq U_\alpha$.}
    \begin{proof}
      \step{<3>1}{\pflet{$\alpha \in J$}}
      \step{<3>2}{$\supp \phi_\alpha \subseteq U_\alpha$}
      \begin{proof}
        \pf
        \begin{align*}
          \supp \phi_\alpha & = \supp \psi_\alpha & (\text{\stepref{<2>1}}) \\
          & \subseteq \overline{V_\alpha} & (\text{\stepref{<1>4}, \stepref{<3>1}})\\
          & \subseteq U_\alpha & (\text{\stepref{<1>1}, \stepref{<3>1}})
        \end{align*}
      \end{proof}
    \end{proof}
    \step{<2>3}{$\{ \supp\ \phi_\alpha \}_{\alpha \in J}$ is locally finite.}
    \begin{proof}
      \pf\ \stepref{<1>6}, \stepref{<2>1}
    \end{proof}
    \step{<2>4}{For all $x \in X$ we have $\sum_{\alpha \in J} \phi_\alpha(x) = 1$}
    \begin{proof}
      \pf\ \stepref{<1>8}, \stepref{<1>11}
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{thm}[Smirnov Metrization Theorem (AC)]
  A space is metrizable if and only if it is locally metrizable, paracompact and Hausdorff.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{Every metrizable space is locally metrizable.}
  \begin{proof}
    \pf\ If $x$ is a point in the metrizable space $X$, then $X$ is a metrizable neighbourhood.
  \end{proof}
  \step{<1>2}{Every metrizable space is paracompact.}
  \begin{proof}
    \pf\ Theorem \ref{thm:topoology:metric:paracompact}.
  \end{proof}
  \step{<1>3}{Every metrizable space is Hausdorff.}
  \begin{proof}
    \pf\ Lemma \ref{lm:topology:metric:Hausdorff}.
  \end{proof}
  \step{<1>4}{Every locally metrizable, paracompact Hausdorff space is metrizable.}
  \begin{proof}
    \step{<2>1}{\pflet{$X$ be a locally metrizable, paracompact Hausdorff space.}}
    \step{<2>2}{$X$ is regular.}
    \begin{proof}
      \pf\ Theorem \ref{thm:topology:paracompact:Hausdorff_normal}.
    \end{proof}
    \step{<2>3}{$X$ has a countably locally finite basis.}
    \begin{proof}
      \step{<3>1}{\pick\ a locally finite open cover $\mathcal{C}$ of $X$ by metrizable sets.}
      \begin{proof}
        \step{<4>1}{$\{ U \text { open in } X : U \text{ is metrizable} \}$ covers $X$.}
        \begin{proof}
          \pf\ Because $X$ is locally metrizable (\stepref{<2>1}).
        \end{proof}
        \qedstep
        \begin{proof}
          \pf\ Because $X$ is paracompact (\stepref{<2>1}).
        \end{proof}
      \end{proof}
      \step{<3>2}{For $C \in \mathcal{C}$, \pick\ a metric $d_C : C^2 \rightarrow \mathbb{R}$ that induces the topology on $C$.}
      \step{<3>3}{For $C \in \mathcal{C}$ and $x \in C$ and $\epsilon > 0$, \pflet{$B_C(x, \epsilon) = \{ y \in C : d_C(x, y) < \epsilon \}$}}
      \step{<3>4}{For $n \geq 1$, \pflet{$\mathcal{A}_n = \{ B_C(x, 1/n) : C \in \mathcal{C}, x \in C \}$}}
      \step{<3>5}{For $n \geq 1$, \pick\ a locally finite open refinement $\mathcal{D}_n$ of $\mathcal{A}_n$ that covers $X$.}
      \begin{proof}
        \pf\ Because $X$ is paracompact (\stepref{<2>1}).
      \end{proof}
      \step{<3>6}{\pflet{$\mathcal{D} = \bigcup_{n=1}^\infty \mathcal{D}_n$.} \prove{$\mathcal{D}$ is a basis for $X$.}}
      \step{<3>7}{\pflet{$U$ be open in $X$ and $x \in U$.}}
      \step{<3>8}{\pflet{$C_1$, \ldots, $C_k$ be the elements of $\mathcal{C}$ that $U$ intersects.}}
      \begin{proof}
        \pf\ Because $\mathcal{C}$ is locally finite (\stepref{<3>1}).
      \end{proof}
      \step{<3>9}{For $1 \leq i \leq k$, \pick\ $\epsilon_i > 0$ such that $B_{C_i}(x, \epsilon_i) \subseteq U \cap C_i$}
      \step{<3>10}{\pick\ $m \geq 1$ such that $2 / m < \epsilon_1, \ldots, \epsilon_k$}
      \step{<3>11}{\pick\ $D \in \mathcal{D}_m$ such that $x \in D$}
      \begin{proof}
        \pf\ Since $\mathcal{D}_m$ covers $X$ (\stepref{<3>5}).
      \end{proof}
      \step{<3>12}{$D \subseteq U$}
      \begin{proof}
        \step{<4>1}{\pick\ $C \in \mathcal{C}$ and $y \in C$ such that $D \subseteq B_C(y, 1/m)$}
        \begin{proof}
          \pf\ \stepref{<3>5}
        \end{proof}
        \step{<4>2}{\pick\ $i$ such that $C = C_i$}
        \begin{proof}
          \pf\ \stepref{<3>8} since $x \in U \cap C$.
        \end{proof}
        \step{<4>3}{$B_C(y, 1/m) \subseteq B_C(x, 2/m)$}
        \begin{proof}
          \step{<5>1}{\pflet{$z \in B_C(y, 1/m)$}}
          \step{<5>2}{$d_C(x, z) < 2/m$}
          \begin{proof}
            \pf
            \begin{align*}
              d_C(x, z) & \leq d_C(x, y) + d_C(y, z) & (\text{Triangle inequality}) \\
              & < 1/m + 1/m & (\text{\stepref{<3>11},\stepref{<4>1}, \stepref{<5>1}})\\
              & = 2/m
            \end{align*}
          \end{proof}
        \end{proof}
        \step{<4>4}{$D \subseteq U$}
        \begin{proof}
          \pf
          \begin{align*}
            D & \subseteq B_{C_i}(y, 1/m) & (\text{\stepref{<4>1}})\\
            & \subseteq B_{C_i}(x, 2/m) & (\text{\stepref{<4>3}})\\
            & \subseteq B_{C_i}(x, \epsilon_i) & (\text{\stepref{<3>10}})\\
            & \subseteq U & (\text{\stepref{<3>9}})
          \end{align*}
        \end{proof}
      \end{proof}
    \end{proof}
    \qedstep
    \begin{proof}
      \pf\ By the Bing-Nagata-Smirnov Metrization Theorem.
    \end{proof}
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  \label{thm:topology:metric:continuous_closed}
  Let $X$ be a topological space and $Y$ a complete metric space. Then the set $\mathcal{C}(X, Y)$ of all continuous functions from $X$ to $Y$ is closed in $Y^X$ under the uniform topology.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$f : X \rightarrow Y$ be a limit point of $\mathcal{C}(X, Y)$ in the uniform topology.}}
  \step{<1>2}{\pick\ a sequence $(f_n)$ in $Y^X$ that converges to $f$ under the uniform topology.}
  \begin{proof}
    \pf\ By the Sequence Lemma.
  \end{proof}
  \step{<1>3}{$f_n$ converges to $f$ uniformly.}
  \begin{proof}
    \pf\ Lemma \ref{lm:topology:metric:convergence:uniform}.
  \end{proof}
  \step{<1>4}{$f$ is continuous.}
  \begin{proof}
    \pf\ By the Uniform Limit Theorem.
  \end{proof}
  \qedstep
  \begin{proof}
    \pf\ Corollary \ref{cor:topology:limit_point:closed}.
  \end{proof}
  \qed
\end{proof}

\begin{thm}
  \label{thm:topology:metric:bounded_closed}
  Let $X$ be a topological space and $Y$ a complete metric space. Then the set $\mathcal{B}(X, Y)$ of all bounded functions from $X$ to $Y$ is closed in $Y^X$ under the uniform topology.
\end{thm}

\begin{proof}
  \pf
  \step{<1>1}{\pflet{$f$ be a limit point of $\mathcal{B}(X, Y)$}}
  \step{<1>2}{\pick\ a sequence $(f_n)$ of bounded functions that converges to $f$ in the uniform topology.}
  \step{<1>3}{\pick\ $N$ such that, for all $n \geq N$, we have $\overline{\rho}(f_n, f) < 1/2$}
  \step{<1>4}{For all $x \in X$ and $n \geq N$ we have $d(f_n(x), f(x)) < 1/2$}
  \step{<1>5}{\pflet{$M = \diam f_N(X)$}}
  \step{<1>6}{$\diam f(X) \leq M+1$}
  \begin{proof}
    \pf
    For $x, y \in X$ we have
    \begin{align*}
      d(f(x), f(y)) & \leq d(f(x), f_N(x)) + d(f_N(x), f_N(y)) + d(f_N(y), f(y)) \\
      & < 1/2 + M + 1/2 & (\text{\stepref{<1>4}, \stepref{<1>5}})\\
      & = M + 1
    \end{align*}
  \end{proof}
  \qed
\end{proof}
